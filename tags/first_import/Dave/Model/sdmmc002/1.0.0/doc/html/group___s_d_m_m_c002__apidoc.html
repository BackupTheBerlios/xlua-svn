<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">API Documentation</div>  </div>
<div class="ingroups"><a class="el" href="group___s_d_m_m_c002_app.html">SDMMC_BlockLayer_RTOS_SDMMC002 App</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c002__apidoc.html#ga0b8683e0c2b0bec0129e92f5888d91d1">SDMMC002_Initialize</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the SD/MMC card and returns the initialization status of the card. A initialization flag is set to 1 if the card is initialized properly. It returns values in the combination of flags. This function is called directly by FAT File System.  <a href="#ga0b8683e0c2b0bec0129e92f5888d91d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c002__apidoc.html#ga5fb891882fa908fdffbe31f34a0996d5">SDMMC002_GetStatus</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the current card's status like whether device is initialized, whether device is inserted or is it write protected etc. The disk status is returned in combination of flags.  <a href="#ga5fb891882fa908fdffbe31f34a0996d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c002__apidoc.html#ga1c77bfb492a5628954497c90b4980235">SDMMC002_ReadBlock</a> (uint8_t *ReadBuf, uint32_t SectorNumber, uint8_t SectorCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads blocks of data from the card. Block read can be single or multiple blocks. It is mandatory to pass aligned buffer to store the data read from the card otherwise the read operation fails.  <a href="#ga1c77bfb492a5628954497c90b4980235"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c002__apidoc.html#ga2c811f452e072e0806fd910dcee75142">SDMMC002_WriteBlock</a> (const uint8_t *WriteBuf, uint32_t SectorNumber, uint8_t SectorCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function writes the data blocks onto the card from the host system. Write operation may be for single or multiple blocks. Based on block count parameter, single or multiple write block api is called from LLD App.  <a href="#ga2c811f452e072e0806fd910dcee75142"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c002__apidoc.html#ga8929eee92c986d37f37e75f5f679a576">SDMMC002_Ioctl</a> (uint8_t Command, void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function controls SDMMC device specified features and the device independent miscellaneous functions other than disk read/write. For Locking features user must provide the password information in the Passwd structure provided to the user.  <a href="#ga8929eee92c986d37f37e75f5f679a576"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga5fb891882fa908fdffbe31f34a0996d5"></a><!-- doxytag: member="SDMMC002.h::SDMMC002_GetStatus" ref="ga5fb891882fa908fdffbe31f34a0996d5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="_s_d_m_m_c002_8c.html#a5fb891882fa908fdffbe31f34a0996d5">SDMMC002_GetStatus</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function gets the current card's status like whether device is initialized, whether device is inserted or is it write protected etc. The disk status is returned in combination of flags. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint8_t <br/>
 SDMMC002_STA_NOINIT: Not Initialized<br/>
 SDMMC002_STA_NODISK: No card<br/>
 SDMMC002_STA_PROTECT: Card is write protected<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   uint8_t DStatus;
   <span class="comment">// DAVE Initialization.</span>
   DAVE_Init();
   DStatus =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga5fb891882fa908fdffbe31f34a0996d5" title="This function gets the current card&#39;s status like whether device is initialized, whether device is in...">SDMMC002_GetStatus</a>();
   <span class="keywordflow">if</span> (DStatus == (<a class="code" href="group___s_d_m_m_c002__publicparam.html#ga7f1583c319c379971b23086d0242a1ab">SDMMC002_STA_NODISK</a> | <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga463a2b1fd5820033a35082a9b0328f68">SDMMC002_STA_NOINIT</a>))
   {
     <span class="comment">//No card Present;</span>
   }
   <span class="keywordflow">if</span> (DStatus == <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga463a2b1fd5820033a35082a9b0328f68">SDMMC002_STA_NOINIT</a>)
   {
     <span class="comment">//Card Present but not initialized.</span>
   }
   <span class="keywordflow">if</span> (DStatus == <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga10630c029f7ee72d5030b37534e609af">SDMMC002_STA_PROTECT</a>)
   {
     <span class="comment">//Card is Write Protected .</span>
   } 
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c002_8c_source.html#l00222">222</a> of file <a class="el" href="_s_d_m_m_c002_8c_source.html">SDMMC002.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b8683e0c2b0bec0129e92f5888d91d1"></a><!-- doxytag: member="SDMMC002.h::SDMMC002_Initialize" ref="ga0b8683e0c2b0bec0129e92f5888d91d1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group___s_d_m_m_c002__apidoc.html#ga0b8683e0c2b0bec0129e92f5888d91d1">SDMMC002_Initialize</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function initializes the SD/MMC card and returns the initialization status of the card. A initialization flag is set to 1 if the card is initialized properly. It returns values in the combination of flags. This function is called directly by FAT File System. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint8_t <br/>
 SDMMC002_STA_NOINIT: Not Initialized<br/>
 SDMMC002_STA_NODISK: No card<br/>
 SDMMC002_STA_PROTECT: Card is write protected<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   uint8_t DStatus;
   <span class="comment">// DAVE Initialization.</span>
   DAVE_Init();
   DStatus =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga0b8683e0c2b0bec0129e92f5888d91d1" title="This function initializes the SD/MMC card and returns the initialization status of the card...">SDMMC002_Initialize</a>();
   <span class="keywordflow">if</span> (DStatus == (<a class="code" href="group___s_d_m_m_c002__publicparam.html#ga7f1583c319c379971b23086d0242a1ab">SDMMC002_STA_NODISK</a> | <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga463a2b1fd5820033a35082a9b0328f68">SDMMC002_STA_NOINIT</a>))
   {
     <span class="comment">//No card Present;</span>
   }
   <span class="keywordflow">if</span> (DStatus == <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga463a2b1fd5820033a35082a9b0328f68">SDMMC002_STA_NOINIT</a>)
   {
      <span class="comment">//Card Present but not initialized.</span>
   }
   <span class="keywordflow">if</span> (DStatus == <a class="code" href="group___s_d_m_m_c002__publicparam.html#ga10630c029f7ee72d5030b37534e609af">SDMMC002_STA_PROTECT</a>)
   {
      <span class="comment">//Card is Write Protected .</span>
   } 
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c002_8c_source.html#l00175">175</a> of file <a class="el" href="_s_d_m_m_c002_8c_source.html">SDMMC002.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8929eee92c986d37f37e75f5f679a576"></a><!-- doxytag: member="SDMMC002.h::SDMMC002_Ioctl" ref="ga8929eee92c986d37f37e75f5f679a576" args="(uint8_t Command, void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="_s_d_m_m_c002_8c.html#a8929eee92c986d37f37e75f5f679a576">SDMMC002_Ioctl</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function controls SDMMC device specified features and the device independent miscellaneous functions other than disk read/write. For Locking features user must provide the password information in the Passwd structure provided to the user. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Command</td><td>specifies the command code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to the parameter buffer depends on the command code.<br/>
 When it is not used, specify a NULL pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint32_t<br/>
 SDMMC002_RES_OK: If device specific functionality is done successfully.<br/>
 SDMMC002_RES_NOTRDY: Card is not initialized.<br/>
 SDMMC002_RES_WRPRT : Card is read only.<br/>
 SDMMC002_RES_ERROR: If device specific functionality fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <br/>
</dd></dl>
<p><b>Ioctl Command's used are : </b><br/>
 Generic commands (defined for FatFs) <br/>
 SDMMC002_CTRL_SYNC: Flush disk cache (for write functions) <br/>
 SDMMC002_GET_SECTOR_COUNT: Get media size (for only f_mkfs()) <br/>
 SDMMC002_GET_SECTOR_SIZE: Get sector size (for multiple sector size (_MAX_SS &gt;= 1024)) <br/>
 SDMMC002_GET_BLOCK_SIZE: Get erase block size (for only f_mkfs()) <br/>
 SDMMC002_CTRL_ERASE_SECTOR: Force erased a block of sectors (for only _USE_ERASE) <br/>
 SDMMC002_CTRL_EJECT: Eject media <br/>
 MMC/SDC specific ioctl commands <br/>
 SDMMC002_MMC_GET_TYPE: Get card type ie. Standard Capacity v2/v1x or High Capacity card. <br/>
 SDMMC002_MMC_GET_CSD: Get Card's Specific Data register <br/>
 SDMMC002_MMC_GET_CID: Get Card's Identification Number <br/>
 SDMMC002_MMC_GET_OCR: Get Card's Operating Condition Register <br/>
 SDMMC002_MMC_GET_SDSTAT: Get 512-bit SD bus status information. <br/>
 The following Ioctl command's needs to be called directly from this layer as Fat File system doesn't support these security Ioctl's. <br/>
 SDMMC002_MMC_LOCK_CARD: Locks the card. <br/>
 SDMMC002_MMC_UNLOCK_CARD: Unlocks the card. <br/>
 SDMMC002_MMC_SET_PASSWD: Set/replace the password. <br/>
 SDMMC002_MMC_CLEAR_PASSWD: Clear the password. <br/>
 SDMMC002_MMC_SET_LOCK: Sets the password and locks the card in the same power cycle. <br/>
 SDMMC002_MMC_READ_LOCK_STATUS: Reads the current lock status of the card. <br/>
 SDMMC002_MMC_FORCE_ERASE: Force erase the password. It is useful when user forgets the password. <br/>
 </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   <a class="code" href="struct_s_d_m_m_c002___passwd_type.html">SDMMC002_PasswdType</a> PasswdInfo  ;
   uint32_t Result;
   uint32_t Buffer;
   <span class="comment">// The same api will be called for all lock related api&#39;s. </span>
   <span class="comment">//Just take care of the parameters passed.</span>
   <span class="comment">// SET PASSWORD &amp; LOCK the CARD //</span>
   strcpy(PasswdInfo.<a class="code" href="struct_s_d_m_m_c002___passwd_type.html#a5e5f040af93df19c9dcc0ba7c05d7b9e">OldPassword</a>, <span class="stringliteral">&quot;IFX&quot;</span>);
   PasswdInfo.<a class="code" href="struct_s_d_m_m_c002___passwd_type.html#af826c4ecf0d4ec4a70f32c925323a73e">OldPwdLength</a> = 3;
   Result = <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga8929eee92c986d37f37e75f5f679a576" title="This function controls SDMMC device specified features and the device independent miscellaneous funct...">SDMMC002_Ioctl</a>( <a class="code" href="group___s_d_m_m_c002__publicparam.html#gaebb0292e4c0179eebe8716c38d586d79">SDMMC002_MMC_SET_LOCK</a>,(<span class="keywordtype">void</span> *)&amp;PasswdInfo);
   <span class="keywordflow">if</span> (Result == <a class="code" href="group___s_d_m_m_c002__publicparam.html#gacf63aaa694dedf117de91e895ca1d3a3">SDMMC002_RES_OK</a>)
   {
     <span class="comment">// READ LOCK STATUS. Status returned should be card is locked  </span>
     Result = <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga8929eee92c986d37f37e75f5f679a576" title="This function controls SDMMC device specified features and the device independent miscellaneous funct...">SDMMC002_Ioctl</a>(<a class="code" href="group___s_d_m_m_c002__publicparam.html#gaad8384d52055636e5ffbcb72f8ddd846">SDMMC002_MMC_READ_LOCK_STATUS</a>,(<span class="keywordtype">void</span> *)&amp;Buffer);
     <span class="keywordflow">if</span> (Result == <a class="code" href="group___s_d_m_m_c002__publicparam.html#gacf63aaa694dedf117de91e895ca1d3a3">SDMMC002_RES_OK</a> )
     {
       <span class="keywordflow">if</span> (Buffer == SDMMC003_CARD_IS_LOCKED)
       {
         <span class="comment">// Force Erase the Password. </span>
          Result = <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga8929eee92c986d37f37e75f5f679a576" title="This function controls SDMMC device specified features and the device independent miscellaneous funct...">SDMMC002_Ioctl</a>( <a class="code" href="group___s_d_m_m_c002__publicparam.html#gaf947b12600d095ddcdf119a92f0a6ebc">SDMMC002_MMC_FORCE_ERASE</a>,NULL);
       }
     }
     <span class="comment">// Eject card //</span>
     Result = <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga8929eee92c986d37f37e75f5f679a576" title="This function controls SDMMC device specified features and the device independent miscellaneous funct...">SDMMC002_Ioctl</a>(<a class="code" href="group___s_d_m_m_c002__publicparam.html#gabf0d8c56ea415fcb0559df748afd4669">SDMMC002_CTRL_EJECT</a>,NULL);
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> 
<p>Definition at line <a class="el" href="_s_d_m_m_c002_8c_source.html#l00352">352</a> of file <a class="el" href="_s_d_m_m_c002_8c_source.html">SDMMC002.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c77bfb492a5628954497c90b4980235"></a><!-- doxytag: member="SDMMC002.h::SDMMC002_ReadBlock" ref="ga1c77bfb492a5628954497c90b4980235" args="(uint8_t *ReadBuf, uint32_t SectorNumber, uint8_t SectorCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="_s_d_m_m_c002_8c.html#a1c77bfb492a5628954497c90b4980235">SDMMC002_ReadBlock</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ReadBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>SectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SectorCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function reads blocks of data from the card. Block read can be single or multiple blocks. It is mandatory to pass aligned buffer to store the data read from the card otherwise the read operation fails. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ReadBuf</td><td>Read Aligned Buffer pointer to store data read from the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SectorNumber</td><td>Card sector address in sector number form where to read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SectorCount</td><td>Number of sectors to read. 1 sector = 512 bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint32_t<br/>
 SDMMC002_RES_OK: If read operation is successfully completed.<br/>
 SDMMC002_RES_NOTRDY: Card is not initialized.<br/>
 SDMMC002_RES_ERROR: If read operation fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   uint32_t DResult;
   uint32_t Count = 0;
   uint32_t Counter = 0;
   uint8_t  WriteData[1536];
   uint8_t  ReadData[1536];
   <span class="comment">// DAVE Initialization.</span>
   DAVE_Init();
   <span class="keywordflow">for</span>(Counter=0;Counter&lt;384;Counter++)
   {
     WriteData[Counter] = Counter * 10;
   }
   <span class="comment">// Write functionality </span>
   DResult =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga2c811f452e072e0806fd910dcee75142" title="This function writes the data blocks onto the card from the host system. Write operation may be for s...">SDMMC002_WriteBlock</a>( WriteData, 200, 3);
   <span class="keywordflow">if</span>(DResult == <a class="code" href="group___s_d_m_m_c002__publicparam.html#gacf63aaa694dedf117de91e895ca1d3a3">SDMMC002_RES_OK</a>)
   {
     <span class="comment">// Read functionality </span>
     DResult =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga1c77bfb492a5628954497c90b4980235" title="This function reads blocks of data from the card. Block read can be single or multiple blocks...">SDMMC002_ReadBlock</a>( ReadData, 200, 3);
     <span class="keywordflow">for</span>( Count=0; Count&lt;1536; Count++)
     {
       <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
       {
         <span class="comment">// Read and Write Data doesn&#39;t match.</span>
       }
     }
    }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c002_8c_source.html#l00236">236</a> of file <a class="el" href="_s_d_m_m_c002_8c_source.html">SDMMC002.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2c811f452e072e0806fd910dcee75142"></a><!-- doxytag: member="SDMMC002.h::SDMMC002_WriteBlock" ref="ga2c811f452e072e0806fd910dcee75142" args="(const uint8_t *WriteBuf, uint32_t SectorNumber, uint8_t SectorCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="_s_d_m_m_c002_8c.html#a2c811f452e072e0806fd910dcee75142">SDMMC002_WriteBlock</a> </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>WriteBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>SectorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SectorCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function writes the data blocks onto the card from the host system. Write operation may be for single or multiple blocks. Based on block count parameter, single or multiple write block api is called from LLD App. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteBuf</td><td>Write buffer pointer from where to store data on the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SectorNumber</td><td>Card Sector address in sector number on where to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SectorCount</td><td>Number of sectors to write. 1 sector = 512 bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint32_t <br/>
 SDMMC002_RES_OK: If write operation is successfully completed.<br/>
 SDMMC002_RES_NOTRDY: Card is not initialized.<br/>
 SDMMC002_RES_ERROR: If card write operation fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   uint32_t DResult;
   uint32_t Count = 0;
   uint32_t Counter = 0;
   uint8_t  WriteData[1536];
   uint8_t  ReadData[1536];
   status_t Status =(uint32_t)DAVEApp_SUCCESS;
   <span class="comment">// DAVE Initialization.</span>
   DAVE_Init();
   <span class="keywordflow">for</span>(Counter=0;Counter&lt;384;Counter++)
   {
     WriteData[Counter] = Counter * 10;
   }
   <span class="comment">// Write functionality </span>
   DResult =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga2c811f452e072e0806fd910dcee75142" title="This function writes the data blocks onto the card from the host system. Write operation may be for s...">SDMMC002_WriteBlock</a>( WriteData, 200, 3);
   <span class="keywordflow">if</span>(DResult == <a class="code" href="group___s_d_m_m_c002__publicparam.html#gacf63aaa694dedf117de91e895ca1d3a3">SDMMC002_RES_OK</a>)
   {
     <span class="comment">// Read functionality </span>
     DResult =  <a class="code" href="group___s_d_m_m_c002__apidoc.html#ga1c77bfb492a5628954497c90b4980235" title="This function reads blocks of data from the card. Block read can be single or multiple blocks...">SDMMC002_ReadBlock</a>( ReadData, 200, 3);
     <span class="keywordflow">for</span>( Count=0; Count&lt;1536; Count++)
     {
       <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
       {
         Status = <a class="code" href="_s_d_m_m_c002_8h.html#ga5e77f1e77da89311c678665853a3b035a8e7f86783a35a91b2fe3171e840e9d13">SDMMC002_ERROR</a>;
         <span class="comment">// Read and Write Data doesn&#39;t match.</span>
       }
     }
   }
   <span class="keywordflow">return</span> Status;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c002_8c_source.html#l00289">289</a> of file <a class="el" href="_s_d_m_m_c002_8c_source.html">SDMMC002.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
<b>v1.0.0</b> Generated on Thu Sep 13 2012 16:12:30 for .&#160;<img class="footer" src="../image002.gif"/></small></address>
</body>
</html>
