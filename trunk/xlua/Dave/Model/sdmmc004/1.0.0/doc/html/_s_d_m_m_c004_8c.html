<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>SDMMC004.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SDMMC004.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains of all public function definations of SDMMC LLD App.  
<a href="#details">More...</a></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file contains of all public function definations of SDMMC LLD App. </p>

<p>Definition in file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>
</div><div class="textblock"><code>#include &quot;../../inc/SDMMC004/SDMMC004_Conf.h&quot;</code><br/>
<code>#include &lt;DAVE3.h&gt;</code><br/>
<code>#include &quot;../../inc/SDMMC004/SDMMC004_Private.h&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d_m_m_c004__apidoc.html#ga4890d6e1f81878c92c77861a03b012fe">SDMMC004_HostControllerInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the Host Controller with the reset values and configured values in the Host Controller registers.Host Contoller acts as an intermediary between card and Host. This function is called from <a class="el" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start()</a> function.  <a href="group___s_d_m_m_c004__apidoc.html#ga4890d6e1f81878c92c77861a03b012fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a82ed25b482a546f12bdca4f12e3e50ba">SDMMC004_HostControllerDeInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function de-initializes the Host Controller to the reset values.  <a href="#a82ed25b482a546f12bdca4f12e3e50ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#af3ca217668d5ceeeeae5fe24e5b33560">SDMMC004_CardReadMultipleBlocks</a> (uint32_t *ReadBufPtr, uint32_t ReadAddr, uint32_t NumberOfBlocks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is used to read multiple blocks of data from the card.  <a href="#af3ca217668d5ceeeeae5fe24e5b33560"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#ab4762a0bb6871b2ecfb04b8da390eb92">SDMMC004_CardReadSingleBlock</a> (uint32_t *ReadBufPtr, uint32_t ReadAddr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is used to read single block of data from the card.  <a href="#ab4762a0bb6871b2ecfb04b8da390eb92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#afee47cee06ac19f15f9d7a6648c07d8f">SDMMC004_CardWriteMultipleBlocks</a> (const uint32_t *WriteBufPtr, uint32_t WriteAddr, uint32_t NumberOfBlocks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is used to write multiple blocks of data on the card.  <a href="#afee47cee06ac19f15f9d7a6648c07d8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#ae3b3eb55c0a91a9c28280c778a797053">SDMMC004_CardWriteSingleBlock</a> (const uint32_t *WriteBufPtr, uint32_t WriteAddr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function is used to write single block of data on the card.  <a href="#ae3b3eb55c0a91a9c28280c778a797053"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#ae94685d69fb06ea8a7d27429db0db7dc">SDMMC004_EraseBlock</a> (uint32_t StartAddr, uint32_t EndAddr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function Erase the blocks of data from the card. It erases the block of data from address specified in StartAddr to end address passed in EndAddr Argument. The erased sectors can be written with '0' or '1' depending on the erasing technique used by the card. When a large area is erased, it is divided into small areas at the Allocation Unit boundary and continuously erases the small areas using a small area erase timeout.  <a href="#ae94685d69fb06ea8a7d27429db0db7dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a821061e922380712eea6bce778db937c">SDMMC004_LockUnlockCard</a> (<a class="el" href="struct_s_d_m_m_c004___local_lock_struct_type.html">SDMMC004_LocalLockStructType</a> *LockPtr, <a class="el" href="group___s_d_m_m_c004__publicparam.html#gacae1f50cdedcec3958f9c2e02fd245dc">SDMMC004_CardLockMode</a> OperationMode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function performs the lock/unlock related operations like Locking a card, Unlocking a card, Setting a password, Clearing a password, Replacing a password, Force Erasing a password and Get the current lock status of the card.  <a href="#a821061e922380712eea6bce778db937c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a349665ec63bb26c57fbf2f192c1b9a8d">SDMMC004_GetLockStatus</a> (uint32_t *LockStatusPtr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function gets the cuurent lock status from the card. The upper layer may use this api to know the lock status information.  <a href="#a349665ec63bb26c57fbf2f192c1b9a8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a951dd8f570cc002899c9a64d0667e665">SDMMC004_GetCurrentState</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to get card's current state whether the card is present, initialized,write protected and Host controller is Initialized or not. It returns state in a combination of flags.  <a href="#a951dd8f570cc002899c9a64d0667e665"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a8336a2d1bf455a5d766e566c813502ce">SDMMC004_GetCardType</a> (uint32_t *CardTypePtr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to get card type information.  <a href="#a8336a2d1bf455a5d766e566c813502ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a31c395f42959c5a78f720171e1784978">SDMMC004_GetCid</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to Get CID( Card identification Number) register information of card. The CID register is of 128 bits. The upper layer needs to pass buffer of type <a class="el" href="struct_s_d_m_m_c004___s_d_c_i_d_type.html" title="This structure is used to store the SD Card&#39;s CID register content.">SDMMC004_SDCIDType</a> to get the Card's CID data.  <a href="#a31c395f42959c5a78f720171e1784978"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a6640ce2f1b27be36ce360a91ac006da4">SDMMC004_GetOcr</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to Get OCR(Operation conditions register) information from the card. OCR is of 32-bits thus the upper Layer needs to pass 32-bit buffer to get the OCR.  <a href="#a6640ce2f1b27be36ce360a91ac006da4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a4a5913c1f49f560663fbf9a2e47b42ca">SDMMC004_GetCsd</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to Get CSD( Card Specific Data ) information from the card. CSD is of 128 bits. The upper layer needs to pass structure of type <a class="el" href="struct_s_d_m_m_c004___c_s_d_v1_type.html" title="This structure stores the SD v1 card&#39;s Csd register content.">SDMMC004_CSDV1Type</a> (For Standard Capacity V1/2 card type ) and SDMMC004_CSDV2Type(For High Capacity card type)  <a href="#a4a5913c1f49f560663fbf9a2e47b42ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a508adba3392a448d8b9f4c147131230e">SDMMC004_GetSectorCount</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to get number of sectors (not include the security protected area). on the card. The upper layer needs to pass 32-bit buffer to store the sector count.  <a href="#a508adba3392a448d8b9f4c147131230e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#aa10e2bb6fea4c1e092e3173dbb89046c">SDMMC004_GetSectorSize</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to get size of each sector on the card which is fixed to 512bytes. The upper layer needs to pass 32-bit buffer to store the sector size.  <a href="#aa10e2bb6fea4c1e092e3173dbb89046c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#ad23000414bea48afb45685d557c63a11">SDMMC004_GetBlockSize</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns erase block size,value, defining the number of write blocks of the flash memory in unit of sector into the 32-bit variable pointed by buffer.  <a href="#ad23000414bea48afb45685d557c63a11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a533ce09d21f508d82f5a422019b283b2">SDMMC004_FlushDiskWriteCache</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used inorder to make sure that the disk drive has finished pending write process. When the disk I/O module has a write back cache, flush the dirty sector immediately. Currently this function doesn't do anything.  <a href="#a533ce09d21f508d82f5a422019b283b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a395b73cbd686206615f5fae5623b21f1">SDMMC004_GetSdStatus</a> (void *Buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The function gets the current SD Bus status from the card. The SD Status contains status bits that are related to the SD Memory Card proprietary features and may be used for future application-specific usage. SD Status is of 512 bits so buffer of 64bytes needs to be passed to this function.  <a href="#a395b73cbd686206615f5fae5623b21f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#af5deda2e04fc15f2307b8b139e4be567">SDMMC004_EjectCard</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is use to de-activate or inactivates the card. The card needs to be initalized again after deactivating it.  <a href="#af5deda2e04fc15f2307b8b139e4be567"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#afe47279acaac7ec69ada00d285ebf265">SDMMC004_Init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will bring the SDMMC peripheral out of reset.  <a href="#afe47279acaac7ec69ada00d285ebf265"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#aed57df38b330746a3b81b4dad17ea9bb">SDMMC004_Start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.  <a href="#aed57df38b330746a3b81b4dad17ea9bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a8b1a6b61a04d4fc13ca90aa19cf8bd7d">SDMMC004_CardDetectionSupport</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function performs the card initialization and reading card registers post card initialization.If card detection Support fails due to "SDMMC004_INITIALIZED_BUT_LOCKED", then you need to call card unlock api and then again call card detection support function else you cannot proceed further as Card Registers can be read only if card is in unlocked state. In case of Non-Card Detection circuit, it will be called in the upper layer disk_init function. In Card Detection circuit it must be called in the infinite loop.  <a href="#a8b1a6b61a04d4fc13ca90aa19cf8bd7d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="struct_s_d_m_m_c004___handle_type.html">SDMMC004_HandleType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#a311af8ffd654029952f07b0a5fd5c3ee">SDMMC004_Handle</a> = {0}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osMutexDef_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_d_m_m_c004_8c.html#aa382b28a8c14ae2fd5d888898df4903b">os_mutex_def_DataMutexHandle</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8b1a6b61a04d4fc13ca90aa19cf8bd7d"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_CardDetectionSupport" ref="a8b1a6b61a04d4fc13ca90aa19cf8bd7d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a8b1a6b61a04d4fc13ca90aa19cf8bd7d">SDMMC004_CardDetectionSupport</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function performs the card initialization and reading card registers post card initialization.If card detection Support fails due to "SDMMC004_INITIALIZED_BUT_LOCKED", then you need to call card unlock api and then again call card detection support function else you cannot proceed further as Card Registers can be read only if card is in unlocked state. In case of Non-Card Detection circuit, it will be called in the upper layer disk_init function. In Card Detection circuit it must be called in the infinite loop. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If function is success.<br/>
 SDMMC004_ERROR: If error occurs.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
     Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
     <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
     {
       <span class="comment">//Call functions as per requirement only after this </span>
     }
   }
   <span class="keywordflow">return</span> Status;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l01130">1130</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="af3ca217668d5ceeeeae5fe24e5b33560"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_CardReadMultipleBlocks" ref="af3ca217668d5ceeeeae5fe24e5b33560" args="(uint32_t *ReadBufPtr, uint32_t ReadAddr, uint32_t NumberOfBlocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#af3ca217668d5ceeeeae5fe24e5b33560">SDMMC004_CardReadMultipleBlocks</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ReadBufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ReadAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>NumberOfBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function is used to read multiple blocks of data from the card. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ReadBufPtr</td><td>Read buffer pointer to store data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadAddr</td><td>Card address form where to read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumberOfBlocks</td><td>Number of blocks to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If multi read is success.<br/>
 SDMMC004_READ_ERROR: If read fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t  WriteData[384];
    uint32_t  ReadData[384];
   uint32_t Count;
   uint32_t Counter;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="keywordflow">for</span>(Counter=0;Counter&lt;384;Counter++)
        {
          WriteData[Counter] = Counter * 1;
        }
        <span class="comment">//Write 3 blocks of data on sector 125-127</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gafee47cee06ac19f15f9d7a6648c07d8f" title="The function is used to write multiple blocks of data on the card.">SDMMC004_CardWriteMultipleBlocks</a>( WriteData,125,3 );
        <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
        {
         <span class="comment">//Read 3 blocks of data from sector 125-128</span>
          Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gaf3ca217668d5ceeeeae5fe24e5b33560" title="The function is used to read multiple blocks of data from the card.">SDMMC004_CardReadMultipleBlocks</a>(ReadData,125,3);   
          <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
          {
            <span class="keywordflow">for</span>( Count=0; Count&lt;384; Count++)
            {
              <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
              {
                Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
                <span class="keywordflow">break</span>;
              }           
            }
          }                   
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00211">211</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab4762a0bb6871b2ecfb04b8da390eb92"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_CardReadSingleBlock" ref="ab4762a0bb6871b2ecfb04b8da390eb92" args="(uint32_t *ReadBufPtr, uint32_t ReadAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#ab4762a0bb6871b2ecfb04b8da390eb92">SDMMC004_CardReadSingleBlock</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ReadBufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ReadAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function is used to read single block of data from the card. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadBufPtr</td><td>Read buffer pointer to store data read from the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadAddr</td><td>Card address form where to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If read is success.<br/>
 SDMMC004_READ_ERROR: If read fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t  WriteData[128];
    uint32_t  ReadData[128];
   uint32_t Count;
   uint32_t Counter;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="keywordflow">for</span>(Counter=0;Counter&lt;128;Counter++)
        {
          WriteData[Counter] = Counter * 1;
        }
        <span class="comment">//Write 1 block of data on sector 200</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gae3b3eb55c0a91a9c28280c778a797053" title="The function is used to write single block of data on the card.">SDMMC004_CardWriteSingleBlock</a>( WriteData, 200);
        <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
        {
         <span class="comment">//Read 1 block of data from sector 200</span>
          Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gab4762a0bb6871b2ecfb04b8da390eb92" title="The function is used to read single block of data from the card.">SDMMC004_CardReadSingleBlock</a>(ReadData,200);   
          <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
          {
            <span class="keywordflow">for</span>( Count=0; Count&lt;128; Count++)
            {
              <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
              {
                Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
                <span class="keywordflow">break</span>;
              }           
            }
          }                   
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00273">273</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="afee47cee06ac19f15f9d7a6648c07d8f"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_CardWriteMultipleBlocks" ref="afee47cee06ac19f15f9d7a6648c07d8f" args="(const uint32_t *WriteBufPtr, uint32_t WriteAddr, uint32_t NumberOfBlocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#afee47cee06ac19f15f9d7a6648c07d8f">SDMMC004_CardWriteMultipleBlocks</a> </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>WriteBufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>WriteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>NumberOfBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function is used to write multiple blocks of data on the card. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteBufPtr</td><td>Data to write on the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteAddr</td><td>Card address on where to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumberOfBlocks</td><td>Number of blocks to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If multi write is success.<br/>
 SDMMC004_WRITE_ERROR: If write fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t  WriteData[384];
   uint32_t  ReadData[384];
   uint32_t Count;
   uint32_t Counter;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="keywordflow">for</span>(Counter=0;Counter&lt;384;Counter++)
        {
          WriteData[Counter] = Counter * 1;
        }
        <span class="comment">//Write 3 blocks of data on sector 125-127</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gafee47cee06ac19f15f9d7a6648c07d8f" title="The function is used to write multiple blocks of data on the card.">SDMMC004_CardWriteMultipleBlocks</a>( WriteData,125,3 );
        <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
        {
         <span class="comment">//Read 3 blocks of data from sector 125-128</span>
          Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gaf3ca217668d5ceeeeae5fe24e5b33560" title="The function is used to read multiple blocks of data from the card.">SDMMC004_CardReadMultipleBlocks</a>(ReadData,125,3);   
          <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
          {
            <span class="keywordflow">for</span>( Count=0; Count&lt;384; Count++)
            {
              <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
              {
                Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
                <span class="keywordflow">break</span>;
              }           
            }
          }                   
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00342">342</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3b3eb55c0a91a9c28280c778a797053"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_CardWriteSingleBlock" ref="ae3b3eb55c0a91a9c28280c778a797053" args="(const uint32_t *WriteBufPtr, uint32_t WriteAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#ae3b3eb55c0a91a9c28280c778a797053">SDMMC004_CardWriteSingleBlock</a> </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>WriteBufPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>WriteAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function is used to write single block of data on the card. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteBufPtr</td><td>Data to write on the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteAddr</td><td>Card address on where to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If write is success.<br/>
 SDMMC004_WRITE_ERROR: If write fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t  WriteData[128];
   uint32_t  ReadData[128];
   uint32_t Count;
   uint32_t Counter;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="keywordflow">for</span>(Counter=0;Counter&lt;128;Counter++)
        {
          WriteData[Counter] = Counter * 1;
        }
        <span class="comment">//Write 1 block of data on sector 200</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gae3b3eb55c0a91a9c28280c778a797053" title="The function is used to write single block of data on the card.">SDMMC004_CardWriteSingleBlock</a>( WriteData, 200);
        <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
        {
         <span class="comment">//Read 1 block of data from sector 200</span>
          Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gab4762a0bb6871b2ecfb04b8da390eb92" title="The function is used to read single block of data from the card.">SDMMC004_CardReadSingleBlock</a>(ReadData,200);   
          <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
          {
            <span class="keywordflow">for</span>( Count=0; Count&lt;128; Count++)
            {
              <span class="keywordflow">if</span>( ReadData[Count] != WriteData[Count])
              {
                Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
                <span class="keywordflow">break</span>;
              }           
            }
          }                   
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00407">407</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5deda2e04fc15f2307b8b139e4be567"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_EjectCard" ref="af5deda2e04fc15f2307b8b139e4be567" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#af5deda2e04fc15f2307b8b139e4be567">SDMMC004_EjectCard</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to de-activate or inactivates the card. The card needs to be initalized again after deactivating it. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If card ejection is success.<br/>
 SDMMC004_ERROR: If error occurs.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gaac77803b4459bb857640149a0c107020" title="This function is use to de-activate or inactivates the card. The card needs to be initalized again af...">SDMMC004_EjectCard</a>();
        <span class="keywordflow">if</span>( Status == DAVEApp_SUCCESS)
        {
          <span class="comment">// Card Ejected Successfully. You need to initialize the card</span>
          <span class="comment">// again inorder to access the card.</span>
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l01063">1063</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae94685d69fb06ea8a7d27429db0db7dc"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_EraseBlock" ref="ae94685d69fb06ea8a7d27429db0db7dc" args="(uint32_t StartAddr, uint32_t EndAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#ae94685d69fb06ea8a7d27429db0db7dc">SDMMC004_EraseBlock</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>StartAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>EndAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function Erase the blocks of data from the card. It erases the block of data from address specified in StartAddr to end address passed in EndAddr Argument. The erased sectors can be written with '0' or '1' depending on the erasing technique used by the card. When a large area is erased, it is divided into small areas at the Allocation Unit boundary and continuously erases the small areas using a small area erase timeout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">StartAddr</td><td>Start Erase Sector Address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EndAddr</td><td>End Erase Sector Address </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t<br/>
 DAVEApp_SUCCESS: If erase is successful.<br/>
 SDMMC004_ERROR: If erase fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t EraseStart = 121;
   uint32_t EraseEnd = 124;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
       <span class="comment">//Erase Sector number 121-124</span>
        Status  =  <a class="code" href="group___s_d_m_m_c004__apidoc.html#gae94685d69fb06ea8a7d27429db0db7dc" title="The function Erase the blocks of data from the card. It erases the block of data from address specifi...">SDMMC004_EraseBlock</a>(EraseStart,EraseEnd) ;
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//Call functions as per requirement only after this </span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00478">478</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a533ce09d21f508d82f5a422019b283b2"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_FlushDiskWriteCache" ref="a533ce09d21f508d82f5a422019b283b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a533ce09d21f508d82f5a422019b283b2">SDMMC004_FlushDiskWriteCache</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is used inorder to make sure that the disk drive has finished pending write process. When the disk I/O module has a write back cache, flush the dirty sector immediately. Currently this function doesn't do anything. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Flush Disk Cache is success.<br/>
 SDMMC004_ERROR: If Flush Disk Cache fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00978">978</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad23000414bea48afb45685d557c63a11"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetBlockSize" ref="ad23000414bea48afb45685d557c63a11" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#ad23000414bea48afb45685d557c63a11">SDMMC004_GetBlockSize</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function returns erase block size,value, defining the number of write blocks of the flash memory in unit of sector into the 32-bit variable pointed by buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to store Block Size </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get Block Size is success.<br/>
 SDMMC004_ERROR: If Get Block Size fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t SectorInfo;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">//Get Block Size</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gad23000414bea48afb45685d557c63a11" title="This function returns erase block size,value, defining the number of write blocks of the flash memory...">SDMMC004_GetBlockSize</a>((<span class="keywordtype">void</span> *)&amp;SectorInfo);
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//Get Block size Read successfully.</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00930">930</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8336a2d1bf455a5d766e566c813502ce"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetCardType" ref="a8336a2d1bf455a5d766e566c813502ce" args="(uint32_t *CardTypePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a8336a2d1bf455a5d766e566c813502ce">SDMMC004_GetCardType</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>CardTypePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to get card type information. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CardTypePtr</td><td>Pointer to store card type information.Card Type can be:<br/>
 <b>SDMMC004_SD_STANDARD_CAPACITY_V2:</b> Standard Capacity Card of Version2. <br/>
 <b>SDMMC004_SD_STANDARD_CAPACITY_V1x:</b> Standard Capacity Card of Version1x.<br/>
 <b>SDMMC004_SD_HIGH_CAPACITY :</b> High Capacity Card .<br/>
 <b>SDMMC004_MMC </b>: MMC card. <br/>
 If the card takes address in terms of sectors then Card Type will be in combination of <b> SDMMC004_BLOCK_ADDRESSING </b> flag . </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If get card type api is success.<br/>
 SDMMC004_ERROR: If get card type api fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>&lt;Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t CardType = 0;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8336a2d1bf455a5d766e566c813502ce" title="This function is use to get card type information.">SDMMC004_GetCardType</a>(&amp;CardType)  ;
         <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
         {
           <span class="keywordflow">if</span>( CardType &amp; <a class="code" href="group___s_d_m_m_c004__publicparam.html#ga9a7d35ee657060c7d12b8543018e8cb3">SDMMC004_SD_STANDARD_CAPACITY_V2</a>)
           {
             <span class="comment">// Standard Capacity Card version2</span>
           }
           <span class="keywordflow">if</span>( CardType &amp; <a class="code" href="group___s_d_m_m_c004__publicparam.html#ga31675e7f4d316b3c160bc69db9608fb5">SDMMC004_SD_STANDARD_CAPACITY_V1x</a>)
           {
             <span class="comment">// Standard Capacity Card version1.</span>
           } 
           <span class="keywordflow">if</span>( CardType &amp; <a class="code" href="group___s_d_m_m_c004__publicparam.html#ga153ecc4dc54cc24bf5eee4913260b9b6">SDMMC004_SD_HIGH_CAPACITY</a>)
           {
             <span class="comment">// High Capacity Card.</span>
           }
         }
       }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00722">722</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a31c395f42959c5a78f720171e1784978"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetCid" ref="a31c395f42959c5a78f720171e1784978" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a31c395f42959c5a78f720171e1784978">SDMMC004_GetCid</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to Get CID( Card identification Number) register information of card. The CID register is of 128 bits. The upper layer needs to pass buffer of type <a class="el" href="struct_s_d_m_m_c004___s_d_c_i_d_type.html" title="This structure is used to store the SD Card&#39;s CID register content.">SDMMC004_SDCIDType</a> to get the Card's CID data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer of type <a class="el" href="struct_s_d_m_m_c004___s_d_c_i_d_type.html" title="This structure is used to store the SD Card&#39;s CID register content.">SDMMC004_SDCIDType</a> to store CID register information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get CID is success.<br/>
 SDMMC004_ERROR: If Get CID fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   <span class="comment">//Define a CID STructure .</span>
   <a class="code" href="struct_s_d_m_m_c004___s_d_c_i_d_type.html" title="This structure is used to store the SD Card&#39;s CID register content.">SDMMC004_SDCIDType</a> SDCid;
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga31c395f42959c5a78f720171e1784978" title="This function is use to Get CID( Card identification Number) register information of card...">SDMMC004_GetCid</a>( (<span class="keywordtype">void</span> *)&amp;SDCid); 
         <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
         {
          <span class="comment">//CID read successfully.</span>
         }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00743">743</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a5913c1f49f560663fbf9a2e47b42ca"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetCsd" ref="a4a5913c1f49f560663fbf9a2e47b42ca" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a4a5913c1f49f560663fbf9a2e47b42ca">SDMMC004_GetCsd</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to Get CSD( Card Specific Data ) information from the card. CSD is of 128 bits. The upper layer needs to pass structure of type <a class="el" href="struct_s_d_m_m_c004___c_s_d_v1_type.html" title="This structure stores the SD v1 card&#39;s Csd register content.">SDMMC004_CSDV1Type</a> (For Standard Capacity V1/2 card type ) and SDMMC004_CSDV2Type(For High Capacity card type) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to store CSD register information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get CSD is success.<br/>
 SDMMC004_ERROR: If Get CSD fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <a class="code" href="struct_s_d_m_m_c004___c_s_d_v2_type.html" title="This structure stores the SD v2 card&#39;s Csd register content.">SDMMC004_CSDV2Type</a> SDCsd;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">// Read CSD</span>
        <span class="comment">// first call cardtype function to check which card type is it. csd v1 or csdv2 .</span>
        <span class="comment">// for high capacity &amp; Standard capcity v2, use V2 csd structure else</span>
        <span class="comment">// Use Csd V1 structure.</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga4a5913c1f49f560663fbf9a2e47b42ca" title="This function is use to Get CSD( Card Specific Data ) information from the card. CSD is of 128 bits...">SDMMC004_GetCsd</a>((<span class="keywordtype">void</span> *)&amp;SDCsd);
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//CSD Read successfully.</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00799">799</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a951dd8f570cc002899c9a64d0667e665"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetCurrentState" ref="a951dd8f570cc002899c9a64d0667e665" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a951dd8f570cc002899c9a64d0667e665">SDMMC004_GetCurrentState</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to get card's current state whether the card is present, initialized,write protected and Host controller is Initialized or not. It returns state in a combination of flags. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 SDMMC004_STATE_NO_CARD: If no card is inserted. <br/>
 SDMMC004_STATE_CARD_INITIALIZED: If card is initialized.<br/>
 SDMMC004_STATE_CARD_WRITE_PROTECT: If card is write protected.<br/>
 SDMMC004_STATE_HC_INITIALIZED: If Host Controller is initialized.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="comment">// Get Current State. </span>
         Status  =  <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga3f35f9feba89517b71c5c81b8eeabdee" title="This function is use to get card&#39;s current state whether the card is present, initialized,write protected and Host controller is Initialized or not. It returns state in a combination of flags.">SDMMC004_GetCurrentState</a>();
        <span class="keywordflow">if</span> ( Status &amp; (uint32_t)<a class="code" href="group___s_d_m_m_c004__publicparam.html#gaae24d0f1f0f1a1be1305689ef918fe2c">SDMMC004_STATE_NO_CARD</a> )
        {
          <span class="comment">//NO Card Present</span>
        }
        <span class="keywordflow">if</span> ( Status &amp; (uint32_t)<a class="code" href="group___s_d_m_m_c004__publicparam.html#gaa0b605f0bed60b199cd4bcd4a86966ed">SDMMC004_STATE_CARD_INITIALIZED</a> )
        {
          <span class="comment">//Card is initialized Successfully.</span>
        }
        <span class="keywordflow">if</span> ( Status &amp; (uint32_t)<a class="code" href="group___s_d_m_m_c004__publicparam.html#gae508082ef7f6dd0a6a610bb7592b591e">SDMMC004_STATE_HC_INITIALIZED</a> )
        {
          <span class="comment">//Host Controller is initialized Successfully.</span>
        }
        <span class="keywordflow">if</span> ( Status &amp; (uint32_t)<a class="code" href="group___s_d_m_m_c004__publicparam.html#ga4191952b88e5c8d1e61caeae4d9495c1">SDMMC004_STATE_CARD_WRITE_PROTECT</a>  )
        {
          <span class="comment">//Card is write protected.</span>
        }
        <span class="keywordflow">if</span> ( Status &amp; (uint32_t)<a class="code" href="group___s_d_m_m_c004__publicparam.html#gaa64d7aafda2cc88e706d65d5d2deaa5f">SDMMC004_STATE_CARD_LOCKED</a> )
        {
          <span class="comment">//Card is Locked. Unlock it first to use it</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00689">689</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a349665ec63bb26c57fbf2f192c1b9a8d"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetLockStatus" ref="a349665ec63bb26c57fbf2f192c1b9a8d" args="(uint32_t *LockStatusPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a349665ec63bb26c57fbf2f192c1b9a8d">SDMMC004_GetLockStatus</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>LockStatusPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function gets the cuurent lock status from the card. The upper layer may use this api to know the lock status information. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">LockStatusPtr</td><td>Pointer to store card lock status information. SDMMC004_CARD_IS_LOCKED: If card is locked <br/>
 SDMMC004_CARD_UNLOCKED: If card is unlocked.<br/>
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If get lock status is successful.<br/>
 SDMMC004_ERROR: If get lock status fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   <a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html" title="This structure stores the Local Lock Struture information.">SDMMC004_LocalLockStructType</a> LockStruct = {0};
   uint32_t LockStatus;
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
      <span class="comment">//  If card detection support available call the below function in while loop.</span>
      <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
        <span class="comment">// Get Lock Status </span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga349665ec63bb26c57fbf2f192c1b9a8d" title="The function gets the cuurent lock status from the card. The upper layer may use this api to know the...">SDMMC004_GetLockStatus</a>(&amp;LockStatus) ;
        <span class="keywordflow">if</span> (LockStatus &amp; <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca028a84e54d615e791e093b71209823b8">SDMMC004_CARD_IS_LOCKED</a>)
        {
          <span class="comment">// Card is Locked. </span>
        }
        <span class="keywordflow">else</span>
        {
          <span class="comment">// Card is unlocked.</span>
        } 
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00639">639</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6640ce2f1b27be36ce360a91ac006da4"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetOcr" ref="a6640ce2f1b27be36ce360a91ac006da4" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a6640ce2f1b27be36ce360a91ac006da4">SDMMC004_GetOcr</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to Get OCR(Operation conditions register) information from the card. OCR is of 32-bits thus the upper Layer needs to pass 32-bit buffer to get the OCR. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to store OCR register information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get OCR is success.<br/>
 SDMMC004_ERROR: If Get OCR fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   <span class="comment">//Define a 32-bit OCR variable</span>
   uint32_t Ocr = 0;
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">//Read OCR</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga6640ce2f1b27be36ce360a91ac006da4" title="This function is use to Get OCR(Operation conditions register) information from the card...">SDMMC004_GetOcr</a>( (<span class="keywordtype">void</span> *)&amp;Ocr); 
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//OCR read successfully.</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00778">778</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a395b73cbd686206615f5fae5623b21f1"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetSdStatus" ref="a395b73cbd686206615f5fae5623b21f1" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a395b73cbd686206615f5fae5623b21f1">SDMMC004_GetSdStatus</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function gets the current SD Bus status from the card. The SD Status contains status bits that are related to the SD Memory Card proprietary features and may be used for future application-specific usage. SD Status is of 512 bits so buffer of 64bytes needs to be passed to this function. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Buffer</td><td>Buffer to read SD status into. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t<br/>
 DAVEApp_SUCCESS: If reading SD status is successful.<br/>
 SDMMC004_ERROR: If reading SD status fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   uint32_t SdStatus[16]; 
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
       <span class="comment">// get sd ststatus .</span>
        Status  = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga395b73cbd686206615f5fae5623b21f1" title="The function gets the current SD Bus status from the card. The SD Status contains status bits that ar...">SDMMC004_GetSdStatus</a>((<span class="keywordtype">void</span>*)&amp;SdStatus);
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//Call functions as per requirement only after this </span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00996">996</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a508adba3392a448d8b9f4c147131230e"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetSectorCount" ref="a508adba3392a448d8b9f4c147131230e" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a508adba3392a448d8b9f4c147131230e">SDMMC004_GetSectorCount</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to get number of sectors (not include the security protected area). on the card. The upper layer needs to pass 32-bit buffer to store the sector count. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to store Sector Count. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get Sector count is success.<br/>
 SDMMC004_ERROR: If Get Sector count fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t SectorInfo;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">//Get sector Count</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga508adba3392a448d8b9f4c147131230e" title="This function is use to get number of sectors (not include the security protected area)...">SDMMC004_GetSectorCount</a>((<span class="keywordtype">void</span> *)&amp;SectorInfo);
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//Get sector Count Read successfully.</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00824">824</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa10e2bb6fea4c1e092e3173dbb89046c"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_GetSectorSize" ref="aa10e2bb6fea4c1e092e3173dbb89046c" args="(void *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#aa10e2bb6fea4c1e092e3173dbb89046c">SDMMC004_GetSectorSize</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is use to get size of each sector on the card which is fixed to 512bytes. The upper layer needs to pass 32-bit buffer to store the sector size. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to store Sector Size </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Get Sector Size is success.<br/>
 SDMMC004_ERROR: If Get Sector Size fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   uint32_t SectorInfo;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
    <span class="comment">//  If card detection support available call the below function in while loop.</span>
    <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">//Get sector size</span>
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#gaa10e2bb6fea4c1e092e3173dbb89046c" title="This function is use to get size of each sector on the card which is fixed to 512bytes. The upper layer needs to pass 32-bit buffer to store the sector size.">SDMMC004_GetSectorSize</a>((<span class="keywordtype">void</span> *)&amp;SectorInfo);
        <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
        {
          <span class="comment">//Get sector size Read successfully.</span>
        }
     }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00904">904</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a82ed25b482a546f12bdca4f12e3e50ba"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_HostControllerDeInit" ref="a82ed25b482a546f12bdca4f12e3e50ba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a82ed25b482a546f12bdca4f12e3e50ba">SDMMC004_HostControllerDeInit</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function de-initializes the Host Controller to the reset values. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t<br/>
 DAVEApp_SUCCESS: If the de-initialization is successful<br/>
 SDMMC004_ERROR: If the de-initialization fails. <br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   <span class="comment">// Host Controller De-Init. Host Controller should be initialized before this.</span>
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga82ed25b482a546f12bdca4f12e3e50ba" title="This function de-initializes the Host Controller to the reset values.">SDMMC004_HostControllerDeInit</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
     <span class="comment">//Call functions as per requirement only after this </span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00177">177</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="afe47279acaac7ec69ada00d285ebf265"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_Init" ref="afe47279acaac7ec69ada00d285ebf265" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_s_d_m_m_c004_8c.html#afe47279acaac7ec69ada00d285ebf265">SDMMC004_Init</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function will bring the SDMMC peripheral out of reset. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void <br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l01096">1096</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="a821061e922380712eea6bce778db937c"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_LockUnlockCard" ref="a821061e922380712eea6bce778db937c" args="(SDMMC004_LocalLockStructType *LockPtr, SDMMC004_CardLockMode OperationMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#a821061e922380712eea6bce778db937c">SDMMC004_LockUnlockCard</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_d_m_m_c004___local_lock_struct_type.html">SDMMC004_LocalLockStructType</a> *&#160;</td>
          <td class="paramname"><em>LockPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_d_m_m_c004__publicparam.html#gacae1f50cdedcec3958f9c2e02fd245dc">SDMMC004_CardLockMode</a>&#160;</td>
          <td class="paramname"><em>OperationMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function performs the lock/unlock related operations like Locking a card, Unlocking a card, Setting a password, Clearing a password, Replacing a password, Force Erasing a password and Get the current lock status of the card. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LockPtr</td><td>Lock Structure of type <a class="el" href="struct_s_d_m_m_c004___local_lock_struct_type.html" title="This structure stores the Local Lock Struture information.">SDMMC004_LocalLockStructType</a> containing the password info to be sent to the card. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OperationMode</td><td>Lock or Unlock mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t<br/>
 DAVEApp_SUCCESS: If locking/unlocking is successful.<br/>
 SDMMC004_ERROR: If locking/unlocking fails.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   <a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html" title="This structure stores the Local Lock Struture information.">SDMMC004_LocalLockStructType</a> LockStruct = {0};
   uint8_t Passwd[3] = {<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;X&#39;</span>};
   uint8_t NewPasswd[5] = {<span class="charliteral">&#39;W&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;O&#39;</span>};
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   <span class="comment">// DAVE Initialization. SDMMC004_Init() is mandatory to be called before hand.</span>
   DAVE_Init();
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
   <span class="keywordflow">if</span> ( Status == (uint32_t)DAVEApp_SUCCESS)
   {
      <span class="comment">//  If card detection support available call the below function in while loop.</span>
      <span class="comment">//while(1) {</span>
      Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga8319508265713711b16a0b3b69a35c53" title="This function performs the card initialization and reading card registers post card initialization...">SDMMC004_CardDetectionSupport</a>();
      <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
      {
         <span class="comment">// Setting the Password to IFX for the first time.</span>
        LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#afcb0bd8173a1c1fd3b04f85f0a29aa3c">Mode</a>  = 0x01UL;
        LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#ac85dbef54780bda71f4839a435280961">PwdLen</a> = 3UL;
        memcpy(LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#af83c6565e0d29f5b7c3aa39565a333c7">PwdData</a>,Passwd,LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#ac85dbef54780bda71f4839a435280961">PwdLen</a> );
        Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga821061e922380712eea6bce778db937c" title="The function performs the lock/unlock related operations like Locking a card, Unlocking a card...">SDMMC004_LockUnlockCard</a>(&amp;LockStruct, <a class="code" href="_s_d_m_m_c004_8h.html#gacae1f50cdedcec3958f9c2e02fd245dca10e42faa405a67430da9e7e2b8eb7d1c">SDMMC004_UNLOCK</a>);
        <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
        {  
         <span class="comment">// Re-Setting the Password from &quot;IFX&quot; to &quot;WIPRO&quot; and Lock it. </span>
          LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#afcb0bd8173a1c1fd3b04f85f0a29aa3c">Mode</a>  = 0x05UL;
          LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#ac85dbef54780bda71f4839a435280961">PwdLen</a> = 8UL; <span class="comment">// Includes length of old passwd + new passwd.</span>
          memcpy(LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#af83c6565e0d29f5b7c3aa39565a333c7">PwdData</a>,Passwd,3 );
          memcpy(LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#af83c6565e0d29f5b7c3aa39565a333c7">PwdData</a> + 3,NewPasswd,5 );
          Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga821061e922380712eea6bce778db937c" title="The function performs the lock/unlock related operations like Locking a card, Unlocking a card...">SDMMC004_LockUnlockCard</a>(&amp;LockStruct,<a class="code" href="_s_d_m_m_c004_8h.html#gacae1f50cdedcec3958f9c2e02fd245dca5c65db073f5b0351c5d520cc33204e25">SDMMC004_LOCK</a>);
          <span class="keywordflow">if</span> (Status == (uint32_t)DAVEApp_SUCCESS)
          {
            <span class="comment">// Unlock the card with password WIPRO.</span>
            LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#afcb0bd8173a1c1fd3b04f85f0a29aa3c">Mode</a> = 0x00UL;
            LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#ac85dbef54780bda71f4839a435280961">PwdLen</a> = 5UL;
            memcpy(LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#af83c6565e0d29f5b7c3aa39565a333c7">PwdData</a>,NewPasswd,LockStruct.<a class="code" href="struct_s_d_m_m_c004___local_lock_struct_type.html#ac85dbef54780bda71f4839a435280961">PwdLen</a> );
            Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga821061e922380712eea6bce778db937c" title="The function performs the lock/unlock related operations like Locking a card, Unlocking a card...">SDMMC004_LockUnlockCard</a>(&amp;LockStruct,<a class="code" href="_s_d_m_m_c004_8h.html#gacae1f50cdedcec3958f9c2e02fd245dca10e42faa405a67430da9e7e2b8eb7d1c">SDMMC004_UNLOCK</a>);
          }
        }
      }
   <span class="comment">// } End of while loop. uncomment  it if SDCD signal supported</span>
   }
   <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00601">601</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<a class="anchor" id="aed57df38b330746a3b81b4dad17ea9bb"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_Start" ref="aed57df38b330746a3b81b4dad17ea9bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_t <a class="el" href="_s_d_m_m_c004_8c.html#aed57df38b330746a3b81b4dad17ea9bb">SDMMC004_Start</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>status_t <br/>
 DAVEApp_SUCCESS: If Start api is success.<br/>
 SDMMC004_ERROR: If error occurs.<br/>
 <b>Reentrant: Yes </b><br/>
 <b>Sync/Async: Synchronous</b> <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;DAVE3.h&gt;</span>
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
   status_t Status = <a class="code" href="_s_d_m_m_c004_8h.html#gafd9c0e82928bc59e33c2cb5b1e85939ca57772c4b66801c505593a1e727cda765">SDMMC004_ERROR</a>;
   Status = <a class="code" href="group___s_d_m_m_c004__apidoc.html#ga788a6a1dce3441dd88719a4fb3e72953" title="This function performs the Host Controller Initialization and enables the SDMMC Interrupt. Host Controller needs to be compulsarily initialized before establishing any communication with the card.">SDMMC004_Start</a>();
     <span class="keywordflow">return</span> 0;
 }
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l01106">1106</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aa382b28a8c14ae2fd5d888898df4903b"></a><!-- doxytag: member="SDMMC004.c::os_mutex_def_DataMutexHandle" ref="aa382b28a8c14ae2fd5d888898df4903b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osMutexDef_t <a class="el" href="_s_d_m_m_c004_8c.html#aa382b28a8c14ae2fd5d888898df4903b">os_mutex_def_DataMutexHandle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data Mutex Handle </p>

</div>
</div>
<a class="anchor" id="a311af8ffd654029952f07b0a5fd5c3ee"></a><!-- doxytag: member="SDMMC004.c::SDMMC004_Handle" ref="a311af8ffd654029952f07b0a5fd5c3ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="struct_s_d_m_m_c004___handle_type.html">SDMMC004_HandleType</a> <a class="el" href="_s_d_m_m_c004_8c.html#a311af8ffd654029952f07b0a5fd5c3ee">SDMMC004_Handle</a> = {0}</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle Structure containing all the run-time card information </p>

<p>Definition at line <a class="el" href="_s_d_m_m_c004_8c_source.html#l00090">90</a> of file <a class="el" href="_s_d_m_m_c004_8c_source.html">SDMMC004.c</a>.</p>

</div>
</div>

<p><a href="_s_d_m_m_c004_8c_source.html">Go to the source code of this file.</a></p>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
<b>v1.0.0</b> Generated on Thu Sep 13 2012 16:13:32 for .&#160;<img class="footer" src="../image002.gif"/></small></address>
</body>
</html>
