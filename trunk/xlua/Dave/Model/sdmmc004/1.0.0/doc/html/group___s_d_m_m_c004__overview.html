<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Overview</div>  </div>
<div class="ingroups"><a class="el" href="group___s_d_m_m_c004_app.html">SDMMC_LowLevel_RTOS_SDMMC004 App</a></div></div><!--header-->
<div class="contents">


<h3><a class="anchor" id="SDMMC004_overviewpage"></a>Overview</h3><div class="textblock"><p>This app will be used in RTOS environment. For Non-RTOS environment, use SDMMC003 app. SDMMC supports the following features:<br/>
 </p>
<ol>
<li>
Only SD mode is supported.  </li>
<li>
<b>Memory capacity:</b> <br/>
 Standard Capacity SD Memory Card: Up to and including 2 GB <br/>
 High Capacity SD Memory Card: More than 2GB (This version of specification limits capacity up to and including 32GB)  </li>
<li>
<b>Operating voltage range:</b> 2.7-3.6 V  </li>
<li>
Designed for read-only and read/write cards. </li>
<li>
Password Protection of cards. This app provides support for all the locking/unlocking features. </li>
<li>
Designed based on simplified specifications version 3.0 but is compatible with lower versions as well. </li>
<li>
Host Controller acts as an intermediary between host system and SD card.  </li>
<li>
Host Controller supports only one SD card inserted at a time. </li>
</ol>
<p><br/>
 <b> Use of Semaphores &amp; Mutexes: </b> </p>
<p>This module uses 3 Semaphores &amp; 2 mutexes in RTOS environment. <br/>
<br/>
 <b>Use of Mutexes:</b> </p>
<ol>
<li>
SDMMC low level driver uses 2 mutexes for function reentrancy. </li>
<li>
One mutex is use protect the Command line and another mutex is used to protect the data line. </li>
<li>
SDMMC has some commands which can be issued even when the DAT lines are busy during data transfer.  </li>
<li>
Command line mutex is used when the command doesn't has any data transfer. Data line mutex is used when the command has data transfer. </li>
</ol>
<p><b>Use of Semaphores: </b> </p>
<ol>
<li>
SDMMC Low level uses 3 binary semaphores for synchronization between the ISR and thread or between the threads. </li>
<li>
Semaphores at the time of creation are in locked state. If a thread performs some operation, it waits for the particular Semaphore which will be then released in ISR. The blocking thread comes out of the block state and again puts that semaphore in the lock state.  </li>
<li>
1st Semaphore signals all the command related interrupts which includes normal &amp; error interrupts. </li>
<li>
2nd Semaphore signals all the data lines related interrupts which includes normal &amp; error interrupts. </li>
<li>
3rd Semaphore signals the transfer complete interrupt which can be triggered along with the data line interrupt for one corner case in data transfer process.<br/>
 a. Data Timeout &amp; Transfer Complete Interrupt can be generated simultaneously. In such scenario, Transfer Complete has higher priority than Data Timeout Error.  </li>
</ol>
</div></div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
<b>v1.0.0</b> Generated on Thu Sep 13 2012 16:13:32 for .&#160;<img class="footer" src="../image002.gif"/></small></address>
</body>
</html>
